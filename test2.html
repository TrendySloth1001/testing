<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>JS Basics: Variables, Operators, Conditions, Loops, Functions, Events, Classes, Errors, Validation, Arrays, Strings, Date</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <style>
        body { font-family: system-ui, sans-serif; margin: 20px; line-height: 1.4; }
        section { border: 1px solid #ddd; padding: 12px; margin-bottom: 12px; border-radius: 6px; }
        button { margin: 6px 0; }
        pre { background:#f6f8fa; padding:8px; white-space:pre-wrap; }
        label { display:block; margin-top:6px; }
    </style>
</head>
<body>
    <h1>JS Basics - Simple Examples</h1>

    <section id="vars">
        <h2>Variables & Operators</h2>
        <button onclick="showVars()">Show variables & operators</button>
        <pre id="out-vars"></pre>
    </section>

    <section id="conds">
        <h2>Conditions</h2>
        <label>Enter a number (0-100): <input id="cond-num" type="number" value="42"></label>
        <button onclick="checkNumber()">Check</button>
        <pre id="out-conds"></pre>
    </section>

    <section id="loops">
        <h2>Loops</h2>
        <button onclick="runLoops()">Run loops</button>
        <pre id="out-loops"></pre>
    </section>

    <section id="funcs">
        <h2>Functions & Events</h2>
        <button onclick="greet('Visitor')">Greet</button>
        <button onclick="countClicks()">Click counter</button>
        <pre id="out-funcs"></pre>
    </section>

    <section id="classes">
        <h2>Classes & Objects</h2>
        <button onclick="demoClass()">Create Person</button>
        <pre id="out-classes"></pre>
    </section>

    <section id="errors">
        <h2>Error handling</h2>
        <button onclick="demoError()">Run safe code (try/catch)</button>
        <pre id="out-errors"></pre>
    </section>

    <section id="validation">
        <h2>Validation</h2>
        <label>Email: <input id="email" type="email" placeholder="you@example.com"></label>
        <button onclick="validateEmail()">Validate</button>
        <pre id="out-validation"></pre>
    </section>

    <section id="arrays">
        <h2>Arrays</h2>
        <button onclick="demoArray()">Array demo</button>
        <pre id="out-arrays"></pre>
    </section>

    <section id="strings">
        <h2>Strings</h2>
        <input id="str-in" placeholder="Type text" value="Hello World">
        <button onclick="demoString()">Run</button>
        <pre id="out-strings"></pre>
    </section>

    <section id="date">
        <h2>Date</h2>
        <button onclick="demoDate()">Show date/time</button>
        <pre id="out-date"></pre>
    </section>

<script>
function showVars() {
    // let/const/var
    const pi = 3.14159;
    let radius = 5;
    var area = pi * radius * radius; // operator *
    const msg = `Radius ${radius}, area ${area.toFixed(2)}`;
    document.getElementById('out-vars').textContent = msg;
}

function checkNumber() {
    const n = Number(document.getElementById('cond-num').value);
    let result;
    if (Number.isNaN(n)) {
        result = 'Not a number';
    } else if (n <= 0) {
        result = 'Zero or negative';
    } else if (n < 50) {
        result = 'Below 50';
    } else {
        result = '50 or above';
    }
    document.getElementById('out-conds').textContent = result;
}

function runLoops() {
    const out = [];
    // for loop
    for (let i = 1; i <= 5; i++) out.push(`for: ${i}`);
    // while loop
    let j = 3;
    while (j--) out.push(`while left: ${j}`);
    // for..of with array
    const arr = ['a','b','c'];
    for (const ch of arr) out.push(`char: ${ch}`);
    document.getElementById('out-loops').textContent = out.join('\n');
}

let clicks = 0;
function greet(name) {
    const txt = `Hello, ${name}! Time: ${new Date().toLocaleTimeString()}`;
    document.getElementById('out-funcs').textContent = txt;
}
function countClicks() {
    clicks++;
    document.getElementById('out-funcs').textContent = `Button clicked: ${clicks} time(s)`;
}

class Person {
    constructor(first, last, age) {
        this.first = first;
        this.last = last;
        this.age = age;
    }
    fullName() { return `${this.first} ${this.last}`; }
    isAdult() { return this.age >= 18; }
}
function demoClass() {
    const p = new Person('Alice', 'Smith', 30);
    document.getElementById('out-classes').textContent =
        `${p.fullName()}, age ${p.age} — adult? ${p.isAdult()}`;
}

function demoError() {
    try {
        // Intentionally cause a ReferenceError
        // eslint-disable-next-line no-undef
        const x = notDefinedVar + 1;
        document.getElementById('out-errors').textContent = String(x);
    } catch (err) {
        document.getElementById('out-errors').textContent =
            `Caught error: ${err.name} — ${err.message}`;
    }
}

function validateEmail() {
    const email = document.getElementById('email').value.trim();
    // simple regex for demo (not full RFC)
    const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    const ok = re.test(email);
    document.getElementById('out-validation').textContent =
        ok ? 'Valid email' : 'Invalid email';
}

function demoArray() {
    const fruits = ['apple', 'banana', 'cherry'];
    // map, filter, reduce
    const upper = fruits.map(s => s.toUpperCase());
    const filtered = fruits.filter(s => s.includes('a'));
    const countChars = fruits.reduce((acc, s) => acc + s.length, 0);
    document.getElementById('out-arrays').textContent =
        `Fruits: ${fruits.join(', ')}\nUpper: ${upper.join(', ')}\nWith "a": ${filtered.join(', ')}\nTotal chars: ${countChars}`;
}

function demoString() {
    const s = document.getElementById('str-in').value;
    const trimmed = s.trim();
    const words = trimmed ? trimmed.split(/\s+/).length : 0;
    const replaced = s.replace('World', 'JS');
    document.getElementById('out-strings').textContent =
        `Original: "${s}"\nTrimmed: "${trimmed}"\nWords: ${words}\nReplace World → JS: "${replaced}"`;
}

function demoDate() {
    const now = new Date();
    const iso = now.toISOString();
    const locale = now.toLocaleString();
    const nextWeek = new Date(now.getTime() + 7 * 24 * 60 * 60 * 1000);
    document.getElementById('out-date').textContent =
        `Now: ${iso}\nLocale: ${locale}\n+7 days: ${nextWeek.toDateString()}`;
}
</script>
</body>
</html></section>